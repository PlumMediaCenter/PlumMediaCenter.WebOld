!function(){"use strict";angular.module("app",["ngResource","ngRoute","ngStorage"])}(),angular.module("app").config(["$routeProvider","$locationProvider",function(o,r){r.html5Mode(!0),o.when("/login",{templateUrl:"/app/partials/login.html",controller:"LoginController",controllerAs:"vm"}).when("/index",{templateUrl:"/app/partials/index.html",controller:"IndexController",controllerAs:"vm"}).when("/page1",{templateUrl:"/app/partials/page1.html",controller:"Page1Controller",controllerAs:"vm"}).when("/page2",{templateUrl:"/app/partials/page2.html",controller:"Page2Controller",controllerAs:"vm"}).when("/account",{templateUrl:"/app/partials/account.html",controller:"AccountController",controllerAs:"vm"}).otherwise({redirectTo:"/index"})}]).run(["$rootScope","$location","account","$log",function(o,r,e,n){o.$on("$routeChangeStart",function(o,t){if(!e.isLoggedIn()&&(n.debug("User is not logged in. Redirecting to the login screen"),"/partials/login.html"!==t.$$route.templateUrl)){var l={url:r.url()};r.path("/login").search(l)}})}]),function(){"use strict";function o(){}angular.module("app").controller("AccountController",[o])}(),function(){"use strict";function o(){}angular.module("app").controller("IndexController",[o])}(),function(){"use strict";function o(o,r,e){var n=o;return n.email="username@domain.com",n.password="password",n.rememberMe=!0,o.$watchCollection(function(){return[n.email,n.password,n.rememberMe]},function(){n.error=void 0}),n.logIn=function(){n.error=void 0,e.logIn(n.email,n.password,n.rememberMe).then(function(){var o=r.search().url;o=void 0===o?"/dashboard":o,r.url(o)},function(){n.error="Invalid email or password"})},n}angular.module("app").controller("LoginController",["$scope","$location","account",o])}(),function(){"use strict";function o(o){var r=this;r.user=o.user}angular.module("app").controller("NavbarController",["account",o])}(),function(){"use strict";function o(){}angular.module("app").controller("Page1Controller",[o])}(),function(){"use strict";function o(){}angular.module("app").controller("Page2Controller",[o])}(),function(){"use strict";function o(){}angular.module("app").controller("RootController",[o])}(),angular.module("app").directive("logo",[function(){"use strict";return{template:'<div class="inline-block logo"><span class="logo-img"></span>Your Application</div>'}}]),angular.module("app").service("account",["api","$q","$localStorage",function(o,r,e){"use strict";var n,t={logIn:function(l,a,u){t.logOut();var i=r.defer();return o.users.token({username:l,password:a},function(r){u===!0?e.token=r:n=r,t.user=o.users.get({userId:t.token().userId}),i.resolve(!0)},function(){return i.reject(!1)}),i.promise},logOut:function(){e.token=void 0,n=void 0,t.user=void 0;try{delete e.token}catch(o){}},isLoggedIn:function(){return void 0!==t.token()},token:function(){return e.token||n},user:void 0};return t.isLoggedIn()&&(t.user=o.users.get({id:t.token().userId})),t}]),angular.module("app").service("api",["$resource",function(o){"use strict";var r=o("/api/users/:id",{},{token:{method:"GET",isArray:!1,url:"/api/users/token"}}),e={users:r};return e}]);