{"version":3,"sources":["app.js","services/notifyService.js","routes.js","controllers/AddNewMediaItemController.js","controllers/AdminController.js","controllers/BaseController.js","controllers/EditVideoSourceController.js","controllers/FetchByTitleController.js","controllers/HomeController.js","controllers/MetadataFetcherController.js","controllers/NavbarController.js","controllers/PlayController.js","controllers/SearchController.js","controllers/VideoInfoController.js","controllers/VideoSourcesController.js","directives/categoryScrollerCollectionDirective.js","directives/categoryScrollerDirective..js","directives/confirmDirective.js","directives/episodeDirective.js","directives/focusDirective.js","directives/jwplayerDirective.js","directives/videoTileDirective.js","services/adminService.js","services/apiService.js","services/debounceFactory.js","services/globalsService.js","services/libs.js","services/refreshImageService.js","services/uniqueIdService.js","services/util.js","services/VideoService.js","services/VideoSourceService.js","validators/pathExistsValidator.js","validators/urlExistsValidator.js"],"names":["fetchConstants","injector","angular","$http","get","$q","promises","resolve","reject","then","result","module","constant","data","all","bootstrapApplication","element","document","ready","bootstrap","notify","message","type","PNotify","title","text","styling","run","$rootScope","enums","globals","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","controllerAs","parent","$state","$stateParams","Video","VideoSource","addNewMediaItem","vm","newMediaItem","videoSourceId","path","error","extend","this","videoSources","getAll","$timeout","$window","api","admin","generateLibrary","generateLibraryIsPending","err","getVideoCounts","getServerVersionNumber","version","serverVersionNumber","getCounts","videoCounts","fetchMissingMetadata","fetchMissingMetadataIsPending","updateApplication","checkForUpdatesIsPending","updateWasApplied","location","reload","undefined","$scope","loadVideoSource","id","isLoading","getById","videoSource","originalVideoSource","copy","reset","form","setPristine","save","isSaving","go","securityType","sayHi","alert","loadMore","numberToLoad","infiniteScrollPageSize","beginIndex","currentlyLoadedVideos","length","endIndex","allVideos","i","push","videos","refreshImage","searchByChanged","calculateTextboxLabel","searchBy","searchByOptions","searchValue","video","textboxLabel","mediaType","mediaTypeMovie","search","isSearching","promise","getMetadataSearchResultsByTitle","getMetadataSearchResultsByOnlineVideoId","searchResults","metadataResults","fetchMetadataByOnlineVideoId","onlineVideoId","metadataIsBeingFetched","fetchMetadata","videoId","sdPosterUrl","hdPosterUrl","setTimeout","window","$watch","getPathInfo","searchTerm","trim","q","hideNavbar","showNavbar","navbarIsOpen","toggleNavbar","showVideoId","$on","fetchAllEpisodePercentWatched","videoIds","_","pluck","episodes","getProgressPercentMultiple","percentObjects","percentObj","episode","where","percentWatched","percent","getProgressPercentType","progressPercent","navigateToShow","getShowFromEpisodeId","show","preventCache","getEpisodes","getNextEpisode","nextEpisode","getProgressPercent","loadVideoSources","deleteVideoSource","deleteById","editIsVisible","refresh","directive","Controller","categories","getCategoryNames","names","getCategories","restrict","bindToController","link","debounce","populateVisibleVideos","visibleVideoTileCount","visibleVideos","leftmostVideoIndex","index","category","calculateVisibleVideoTileCount","num","width","videoTileWidth","isFinite","Math","floor","pageLeft","newLeftmostIndex","pageRight","maxLeftmostIndex","console","log","showPageLeft","showPageRight","getLocationText","newVisibleVideoTileCount","oldVisibleVideoTileCount","scope","attributes","calculateElementWidth","myId","rect","getBoundingClientRect","bind","videoTile","querySelector","on","$eval","confirmMessage","confirmed","confirm","maxTitleLength","substring","runtime","runtimeMinutes","parseInt","runtimeText","$parse","focus","getter","assign","uniqueId","util","togglePlayback","player","play","pause","loadVideo","blankItemInPlace","playlist","file","image","posterUrl","jwplayer","load","elementId","setup","flashplayer","primary","startparam","wmode","height","events","onTime","onPlay","onComplete","autostart","obj","startVideoWhereWeLeftOffProcessed","position","startVideoWhereWeLeftOff","positionInSeconds","nowTime","Date","timeSinceLastUpdate","playPositionUpdateTime","setProgress","debug","startSeconds","seek","getProgress","seconds","remove","replace","attr","template","service","deferred","defer","success","factory","registryIndexOf","identifier","registry","registryItem","setRegistryItem","callback","expirationMilliseconds","registryItemIndex","expirationDate","now","$apply","e","splice","indexOf","pageTitle","uri","contentWindow","removeEventListener","parentElement","removeChild","iframe","createElement","style","display","addEventListener","src","body","appendChild","counter","item","isArray","pop","params","isNumber","showId","join","isFinished","finished","episodeId","newMediaItemPath","post","require","attrs","ngModel","$asyncValidators","pathExists","modelValue","viewValue","value","response","exists","errorMessage","urlExists"],"mappings":"AAaA,QAAAA,kBACA,GAAAC,GAAAC,QAAAD,UAAA,OACAE,EAAAF,EAAAG,IAAA,SACAC,EAAAJ,EAAAG,IAAA,MAEAE,GACAD,EAAA,SAAAE,EAAAC,GACAL,EAAAC,IAAA,2BAAAK,KAAA,SAAAC,GACAR,QAAAS,OAAA,OAAAC,SAAA,QAAAF,EAAAG,MACAN,KACAC,KAIA,OAAAH,GAAAS,IAAAR,GAGA,QAAAS,wBACAb,QAAAc,QAAAC,UAAAC,MAAA,WACAhB,QAAAiB,UAAAF,UAAA,UC5BA,QAAAG,QAAAC,EAAAC,GAKA,MAJAA,GAAAA,EAAAA,EAAA,UAEAA,EAAA,WAAAA,EAAA,QAAAA,EAEA,GAAAC,UACAC,MAAA,GACAC,KAAAJ,EACAK,QAAA,aACAJ,KAAAA,IDbApB,QAAAS,OAAA,OAAA,YAAA,eAAA,oBACAgB,KAAA,aAAA,QAAA,UAAA,SAAAC,EAAAC,EAAAC,GACAF,EAAAC,MAAAA,EACAD,EAAAE,QAAAA,KAGA9B,iBAAAS,KAAAM,sBENAb,QAAAS,OAAA,OACAoB,QAAA,iBAAA,qBACA,SAAAC,EAAAC,GACAA,EAAAC,UAAA,SAEAF,EACAG,MAAA,mBACAC,IAAA,mBACAC,YAAA,uBACAC,WAAA,4BACAC,aAAA,OAEAJ,MAAA,QACAC,IAAA,QACAC,YAAA,YACAC,WAAA,iBACAC,aAAA,OAEAJ,MAAA,SACAC,IAAA,SACAC,YAAA,aACAC,WAAA,kBACAC,aAAA,OAEAJ,MAAA,aACAC,IAAA,2BACAC,YAAA,iBACAC,WAAA,sBACAC,aAAA,OAEAJ,MAAA,gBACAC,IAAA,gBACAC,YAAA,oBACAC,WAAA,yBACAC,aAAA,OAEAJ,MAAA,mBACAC,IAAA,4BACAI,OAAA,eACAH,YAAA,uBACAC,WAAA,4BACAC,aAAA,OAEAJ,MAAA,QACAC,IAAA,wCACAC,YAAA,YACAC,WAAA,iBACAC,aAAA,OAEAJ,MAAA,UACAC,IAAA,YACAC,YAAA,cACAC,WAAA,mBACAC,aAAA,OAEAJ,MAAA,mBACAC,IAAA,iCACAC,YAAA,uBACAC,WAAA,4BACAC,aAAA,UAIAZ,KAAA,aAAA,SAAA,eAAA,SAAAC,EAAAa,EAAAC,GACAd,EAAAa,OAAAA,EACAb,EAAAc,aAAAA,KCjEAxC,QAAAS,OAAA,OAAA2B,WAAA,6BAAA,QAAA,UAAA,cAAA,SAAA,SAAAK,EAAAb,EAAAc,EAAAxB,GAeA,QAAAyB,KACAF,EAAAE,gBAAAC,EAAAC,aAAAC,cAAAF,EAAAC,aAAAE,MAAAxC,KAAA,SAAAC,GACAU,EAAA,0CAAA,YACA,SAAA8B,GACA9B,EAAA8B,EAAA7B,QAAA,YAlBAS,EAAAN,MAAA,oBAEA,IAAAsB,GAAA5C,QAAAiD,OAAAC,MAEAC,gBACAN,gBAEAF,gBAAAA,GAGAD,GAAAU,SAAA7C,KAAA,SAAA4C,GACAP,EAAAO,aAAAA,OCZAnD,QAAAS,OAAA,OAAA2B,WAAA,mBAAA,WAAA,UAAA,UAAA,MAAA,SAAA,QAAA,QACA,SAAAiB,EAAAC,EAAA1B,EAAA2B,EAAArC,EAAAuB,EAAAe,GAgBA,QAAAC,KACAvC,EAAA,qBAAA,OACAU,GAAA8B,0BAAA,EACAH,EAAAE,kBAAAlD,KAAA,WACAW,EAAA,6BAAA,aADAqC,SAEA,SAAAI,GACAzC,EAAA,+CAAAyC,EAAAxC,QAAA,IAAA,YAHAoC,WAIA,WACA3B,EAAA8B,0BAAA,EACAE,MAIA,QAAAC,KACAL,EAAAK,yBAAAtD,KAAA,SAAAuD,GACAlB,EAAAmB,oBAAAD,IAGA,QAAAF,KACAnB,EAAAuB,YAAAzD,KAAA,SAAA0D,GACArB,EAAAqB,YAAAA,IAIA,QAAAC,KACAtC,EAAAuC,+BAAA,EACAjD,EAAA,4BAAA,QACAuB,EAAAyB,uBAAA3D,KAAA,WACAW,EAAA,8CAAA,YACA,WACAA,EAAA,+CAAA,WAHAuB,WAIA,WACAb,EAAAuC,+BAAA,IAIA,QAAAC,KACAxC,EAAAyC,0BAAA,EACAnD,EAAA,uEAAA,QACAsC,EAAAY,oBAAA7D,KAAA,SAAAC,GACAA,EAAA8D,kBACApD,EAAA,gDAAA,WACAmC,EAAA,WACAC,EAAAiB,SAAAC,UACA,MAEAtD,EAAA,wBAAA,YAEA,WACAA,EAAA,sCAAA,WAVAsC,WAWA,WACA5B,EAAAyC,0BAAA,IAlEAzC,EAAAN,MAAA,OAEA,IAAAsB,GAAA5C,QAAAiD,OAAAC,MAEAa,oBAAAU,OAEAP,qBAAAA,EACAT,gBAAAA,EACAW,kBAAAA,GAIAR,KACAC,OCfA7D,QAAAS,OAAA,OAAA2B,WAAA,kBAAA,UAAA,SAAAR,GACA5B,QAAAiD,OAAAC,MACAtB,QAAAA,OCFA5B,QAAAS,OAAA,OAAA2B,WAAA,6BACA,SAAA,UAAA,cAAA,SAAA,eAAA,QACA,SAAAsC,EAAA9C,EAAAc,EAAAH,EAAAC,EAAAb,GAqBA,QAAAgD,KAEAnC,EAAAoC,IAAApC,EAAAoC,GAAA,IACAhC,EAAAiC,WAAA,EACAnC,EAAAoC,QAAAtC,EAAAoC,IAAArE,KAAA,SAAAwE,GACAnC,EAAAmC,YAAAA,EACAnC,EAAAoC,oBAAAhF,QAAAiF,KAAAF,KAFArC,WAGA,WACAE,EAAAiC,WAAA,KAKA,QAAAK,KACAtC,EAAAmC,YAAAnC,EAAAoC,oBACApC,EAAAuC,KAAAC,aAAA,GAGA,QAAAC,KACAzC,EAAA0C,UAAA,EACA5C,EAAA2C,KAAAzC,EAAAmC,aAAAxE,KAAA,SAAAwE,GACAnC,EAAA0C,UAAA,EACAX,IACAzD,OAAA,qBAAA,WACAqB,EAAAgD,GAAA,mBAAAf,QAAA,KACA,WAEA5B,EAAA0C,UAAA,IA/CA,GAAA1C,GAAA5C,QAAAiD,OAAAC,MACA2B,WAAA,EACAS,UAAA,EAEAN,oBAAAP,OACAM,aACAS,aAAA7D,EAAA6D,aAAA7D,WAGAuD,MAAAA,EACAG,KAAAA,EACAI,MAAA,WACAC,MAAA,QAIA9D,GAAAN,MAAA,oBACAsB,EAAAoC,oBAAAhF,QAAAiF,KAAArC,EAAAmC,aACAJ,OCrBA3E,QAAAS,OAAA,OAAA2B,WAAA,0BAAA,eACA,SAAAI,GACA,GAAAI,GAAA5C,QAAAiD,OAAAC,MAEA5B,MAAAmD,QAKA7B,GAAAtB,MAAAkB,EAAAlB,SCTAtB,QAAAS,OAAA,OAAA2B,WAAA,kBAAA,UAAA,QAAA,SAAAR,EAAAa,GAaA,QAAAkD,KACA,GAAAC,GAAAhE,EAAAiE,uBACAC,EAAAlD,EAAAmD,sBAAAC,OACAC,EAAAH,EAAAF,CAEAK,GAAAA,EAAArD,EAAAsD,UAAAF,OAAApD,EAAAsD,UAAAF,OAAAC,CAEA,KAAA,GAAAE,GAAAL,EAAAG,EAAAE,EAAAA,IACAvD,EAAAmD,sBAAAK,KAAAxD,EAAAsD,UAAAC,IApBA,GAAAvD,GAAA5C,QAAAiD,OAAAC,MACAgD,aACAH,yBAEAJ,SAAAA,GAEA/D,GAAAN,MAAA,OAEAmB,EAAAW,SAAA7C,KAAA,SAAA8F,GACAzD,EAAAsD,UAAAG,OCVArG,QAAAS,OAAA,OAAA2B,WAAA,6BAAA,SAAA,KAAA,UAAA,eAAA,QAAA,SAAA,eAAA,SAAA,QACA,SAAAsC,EAAAvE,EAAAyB,EAAA0E,EAAA7D,EAAAF,EAAAC,EAAAtB,EAAAS,GA0BA,QAAA4E,KACA3D,EAAA4D,wBACA5D,EAAA6D,WAAA7D,EAAA8D,gBAAApF,MACAsB,EAAA+D,YAAA/D,EAAAgE,MAAAtF,MAEAsB,EAAA+D,YAAA,GAIA,QAAAH,KACA5D,EAAAiE,aAAApC,OAEA7B,EAAAgE,QAGAhE,EAAA6D,WAAA7D,EAAA8D,gBAAApF,MACAsB,EAAAiE,aAAA,QAEAjE,EAAAiE,aAAAjE,EAAAgE,MAAAE,YAAAnF,EAAAoF,eAAA,UAAA,WAcA,QAAAC,KACApE,EAAAqE,aAAA,CACA,IAAAC,EAEAA,GADAtE,EAAA6D,WAAA7D,EAAA8D,gBAAApF,MACAmB,EAAA0E,gCAAAvE,EAAAgE,MAAAE,UAAAlE,EAAA+D,aAEAlE,EAAA2E,wCAAAxE,EAAAgE,MAAAE,UAAAlE,EAAA+D,aAEAO,EAAA3G,KAAA,SAAA8G,GACAzE,EAAA0E,gBAAAD,EACAzE,EAAAqE,aAAA,IAIA,QAAAM,GAAAC,GACA5E,EAAA6E,wBAAA,EACAhF,EAAAiF,cAAA9E,EAAAgE,MAAAe,QAAAH,GAAAjH,KAAA,WACA,MAAAkC,GAAAqC,QAAAlC,EAAAgE,MAAAe,WACApH,KAAA,SAAAqG,GAEA,MAAAN,GAAAM,EAAAgB,aAAArH,KAAA,WACA,MAAA+F,GAAAM,EAAAiB,eACAtH,KAAA,WAMA,WAHAuH,YAAA,WACAC,OAAAxD,SAAAC,UACA,SAGAjE,KAAA,WACAqC,EAAA0E,gBAAA7C,OACA7B,EAAA6E,wBAAA,EAEAvG,EAAA,uCAAA,WACAqB,EAAAgD,GAAA,aAAAoC,QAAA/E,EAAA+E,YACA,SAAA,SAAAhE,GACAf,EAAA6E,wBAAA,EACAvG,EAAA,oEAAAyC,EAAA,WA/FA/B,EAAAN,MAAA,gBACA,IAAAsB,GAAA5C,QAAAiD,OAAAC,MACAwD,iBACAc,cAAA,gBACAlG,MAAA,SAEAqG,QAAAnF,EAAAmF,QACAlB,SAAA,gBACAQ,aAAA,EACAQ,wBAAA,EACAZ,aAAApC,OAEAkC,YAAAlC,OACA4C,cAAA5C,OACAmC,SAEAI,OAAAA,EACAR,sBAAAA,EACAe,6BAAAA,GAGA7C,GAAAsD,OAAA,cAAAzB,GAEA7B,EAAAsD,OAAA,WAAApF,EAAA4D,uBAyBA/D,EAAAqC,QAAAlC,EAAA+E,SAAApH,KAAA,SAAAqG,GACA5G,QAAAiD,OAAAL,EAAAgE,MAAAA,GACAL,MAGA9D,EAAAwF,YAAArF,EAAA+E,SAAApH,KAAA,SAAAqG,GACA5G,QAAAiD,OAAAL,EAAAgE,MAAAA,QCxDA5G,QAAAS,OAAA,OAAA2B,WAAA,oBAAA,SAAA,SAAAG,GAUA,QAAAyE,KACApE,EAAAsF,YAAAtF,EAAAsF,WAAAC,OAAAnC,OAAA,IACAzD,EAAAgD,GAAA,UAAA6C,EAAAxF,EAAAsF,aACAtF,EAAAsF,WAAAzD,OACA4D,KAIA,QAAAC,KACA1F,EAAA2F,cAAA,EAGA,QAAAF,KACAzF,EAAA2F,cAAA,EAGA,QAAAC,KACA5F,EAAA2F,aAAAF,IAAAC,IA1BA,GAAA1F,GAAA5C,QAAAiD,OAAAC,MACAgF,WAAAzD,OACA8D,cAAA,EAEAvB,OAAAA,EACAqB,WAAAA,EACAG,aAAAA,OCPAxI,QAAAS,OAAA,OAAA2B,WAAA,kBAAA,SAAA,UAAA,eAAA,SACA,SAAAsC,EAAA9C,EAAAY,EAAAtB,GACAU,EAAAN,MAAA,OACAM,EAAAyG,YAAA,CAEArI,SAAAiD,OAAAC,MACAyE,QAAAnF,EAAAmF,QACAc,YAAAjG,EAAAiG,aAGA/D,GAAAgE,IAAA,WAAA,WACA9G,EAAAyG,YAAA,OCXArI,QAAAS,OAAA,OAAA2B,WAAA,oBAAA,UAAA,QAAA,eAAA,SAAAR,EAAAa,EAAAD,GAiBA,QAAAmD,KACA,GAAAC,GAAAhE,EAAAiE,uBACAC,EAAAlD,EAAAmD,sBAAAC,OACAC,EAAAH,EAAAF,CAEAK,GAAAA,EAAArD,EAAAsD,UAAAF,OAAApD,EAAAsD,UAAAF,OAAAC,CAEA,KAAA,GAAAE,GAAAL,EAAAG,EAAAE,EAAAA,IAAA,CACA,GAAAS,GAAAhE,EAAAsD,UAAAC,EACAvD,GAAAmD,sBAAAK,KAAAQ,IAzBA,GAAAhE,GAAA5C,QAAAiD,OAAAC,MACAgD,aACAH,yBACAmC,WAAA1F,EAAA4F,EAEAzC,SAAAA,GAGA/D,GAAAN,MAAA,MACA,IAAA4G,GAAA1F,EAAA4F,CAEA3F,GAAAuE,OAAAkB,GAAA3H,KAAA,SAAA8F,GACAzD,EAAAsD,UAAAG,OCbArG,QAAAS,OAAA,OAAA2B,WAAA,uBAAA,SAAA,UAAA,QAAA,SAAA,eAAA,QACA,SAAAsC,EAAA9C,EAAAa,EAAAF,EAAAC,EAAAb,GAgDA,QAAAgH,KACA,GAAAC,GAAAC,EAAAC,MAAAlG,EAAAmG,SAAA,UACAtG,GAAAuG,2BAAAJ,GAAArI,KAAA,SAAA0I,GACA,IAAA,GAAA9C,KAAA8C,GAAA,CACA,GAAAC,GAAAD,EAAA9C,GACAgD,EAAAN,EAAAO,MAAAxG,EAAAmG,UAAApB,QAAAuB,EAAAvB,UAAA,EACAwB,KACAA,EAAAE,eAAAH,EAAAI,YAMA,QAAAC,KACA,MAAA3G,GAAA4G,gBAAA,GACA,SACA5G,EAAA4G,gBAAA,GACA,UACA5G,EAAA4G,gBAAA,IACA,UADA,OAKA,QAAAC,KACAhH,EAAAiH,qBAAA9G,EAAA+E,SAAApH,KAAA,SAAAoJ,GACApH,EAAAgD,GAAA,aAAAoC,QAAAgC,EAAAhC,YAxEA,GAAA/E,GAAA5C,QAAAiD,OAAAC,MACAsG,gBAAA,EACAI,aAAApH,EAAAoH,aACAb,SAAAtE,OACAkD,QAAAnF,EAAAmF,QAEA4B,uBAAAA,EACAE,eAAAA,GAEA7H,GAAAN,MAAA,YAEAoD,EAAAsD,OAAA,cAAAW,GAGAlG,EAAAqC,QAAAlC,EAAA+E,SAAApH,KAAA,SAAAqG,GACAhE,EAAAgE,MAAAA,EAEAhE,EAAAgE,MAAAE,YAAAnF,EAAAmF,UAAA6C,MAEAlH,EAAAoH,YAAAjH,EAAAgE,MAAAe,SAAApH,KAAA,SAAAwI,GACAnG,EAAAmG,SAAAA,IAEAxI,KAAA,WACA,MAAAkC,GAAAqH,eAAAlH,EAAAgE,MAAAe,WAEApH,KAAA,SAAAwJ,GACAnH,EAAAmH,YAAAlB,EAAAO,MAAAxG,EAAAmG,UAAApB,QAAAoC,EAAApC,UAAA,KAEApH,KAAA,WACA,MAAAkC,GAAAuH,mBAAApH,EAAAmH,YAAApC,WAEApH,KAAA,SAAA+I,GACA1G,EAAAmH,YAAAV,eAAAC,IAKA7G,EAAAuH,mBAAApH,EAAAgE,MAAAe,SAAApH,KAAA,SAAA+I,GACA1G,EAAA4G,gBAAAF,SCxCAtJ,QAAAS,OAAA,OAAA2B,WAAA,0BAAA,UAAA,cAAA,SACA,SAAAR,EAAAc,EAAAxB,GASA,QAAA+I,KACAvH,EAAAU,SAAA7C,KAAA,SAAA4C,GACAP,EAAAO,aAAAA,IAIA,QAAA+G,GAAAtF,GACAlC,EAAAyH,WAAAvF,GAAArE,KAAA0J,GAfA,GAAArH,GAAAM,IACAN,GAAAwH,eAAA,EACAxH,EAAAsH,kBAAAA,EACAtH,EAAAyH,QAAAJ,EAEArI,EAAAN,MAAA,gBACA2I,OCRAjK,QAAAS,OAAA,OAAA6J,UAAA,8BAAA,WAYA,QAAAC,GAAA9H,GACA,GAAAG,GAAA5C,QAAAiD,OAAAC,MACAsH,eAGA/H,GAAAgI,mBAAAlK,KAAA,SAAAmK,GACA,MAAAjI,GAAAkI,cAAAD,KACAnK,KAAA,SAAAiK,GACA5H,EAAA4H,WAAAA,IAnBA,OACAI,SAAA,IACAxI,YAAA,QAAAmI,GACAlI,aAAA,KACAwI,kBAAA,EACA1I,YAAA,2CACA2I,KAAA,iBCPA9K,QAAAS,OAAA,OAAA6J,UAAA,oBAAA,UAAA,WAAA,WAAA,SAAAhH,EAAAD,EAAA0H,GAyCA,QAAAR,GAAA7F,GAmCA,QAAAsG,KACA,GAAApI,EAAAqI,sBAAA,EAEA,YADArI,EAAAsI,iBAIA,IAAAjF,GAAArD,EAAAuI,mBAAAvI,EAAAqI,qBACArI,GAAAsI,gBACA,KAAA,GAAA/E,GAAAvD,EAAAuI,mBAAAlF,EAAAE,EAAAA,IAAA,CACA,GAAAiF,GAAAjF,EAAAvD,EAAAyI,SAAAhF,OAAAL,OACAY,EAAAhE,EAAAyI,SAAAhF,OAAA+E,EACAxI,GAAAsI,cAAA9E,KAAAQ,IAIA,QAAA0E,KAEA,GAAAC,IAAA3I,EAAA4I,MAAA,IAAA5I,EAAA6I,cAIAF,GAHAG,SAAAH,GAGAI,KAAAC,MAAAL,GAFA,EAIA3I,EAAAqI,sBAAAM,EAGA,QAAAM,KACA,GAAAC,GAAAlJ,EAAAuI,mBAAAvI,EAAAqI,qBACA,GAAAa,IACAA,EAAA,GAEAlJ,EAAAuI,mBAAAW,EACAlJ,EAAAoI,wBAGA,QAAAe,KACA,GAAAD,GAAAlJ,EAAAuI,mBAAAvI,EAAAqI,sBACAe,EAAApJ,EAAAyI,SAAAhF,OAAAL,OAAA,EAAApD,EAAAqI,qBACAa,GAAAE,IACAF,EAAAE,GAEApJ,EAAAuI,mBAAAW,EACAG,QAAAC,IAAA,eAAAtJ,EAAAuI,oBACAvI,EAAAoI,wBAGA,QAAAmB,KACA,MAAAvJ,GAAAuI,mBAAA,EAGA,QAAAiB,KACA,GAAAJ,GAAApJ,EAAAyI,SAAAhF,OAAAL,OAAA,EAAApD,EAAAqI,qBACA,OAAArI,GAAAuI,mBAAAa,EAGA,QAAAK,KACA,MAAAzJ,GAAAuI,mBAAA,EAAA,KAAAvI,EAAAuI,mBAAAvI,EAAAsI,cAAAlF,QAAA,OAAApD,EAAAyI,SAAAhF,OAAAL,OA1FA,GAAApD,GAAA5C,QAAAiD,OAAAC,MACAmI,SAAAnI,KAAAmI,SACAG,MAAA,EACAC,eAAA,EACAR,sBAAA,EACAC,iBACAC,mBAAA,EAEAG,+BAAAA,EACAe,gBAAAA,EACArB,sBAAAA,EACAa,SAAAA,EACAE,UAAAA,EACAI,aAAAA,EACAC,cAAAA,GAGA1H,GAAAsD,OAAA,WACA,MAAApF,GAAA6I,gBACA,WACA7I,EAAA0I,mCAEA5G,EAAAsD,OAAA,WACA,MAAApF,GAAA4I,OACA,WACA5I,EAAA0I,mCAGA5G,EAAAsD,OAAA,WACA,MAAApF,GAAAqI,uBACA,SAAAqB,EAAAC,GACAvB,MAxEA,GAAApG,GAAA,CACA,QACAgG,SAAA,IACAxI,YAAA,SAAAmI,GACAlI,aAAA,KACAwI,kBAAA,EACA1I,YAAA,iCACAqK,OACAnB,SAAA,KAEAP,KAAA,SAAApG,EAAA5D,EAAA2L,EAAA7J,GAMA,QAAA8J,KACAT,QAAAC,IAAA,cAAAS,GACA5B,EAAAnI,EAAA,WACAqJ,QAAAC,IAAA,WAAAS,EACA,IAAAC,GAAA9L,EAAA,GAAA+L,uBACAjK,GAAA4I,MAAAoB,EAAApB,OACA,KAXA,GAAAmB,GAAA/H,GAEA5E,SAAAc,QAAAwC,GAAAwJ,KAAA,SAAA,WACAJ,MAYAhI,EAAAsD,OAAA,WACA,MAAApF,GAAA4I,OACA,SAAAA,GAEA,GAAAuB,GAAAjM,EAAA,GAAAkM,cAAA,cACAJ,EAAAG,EAAAF,uBACAjK,GAAA6I,eAAAmB,EAAApB,QAGAkB,SCpCA1M,QAAAS,OAAA,OAAA6J,UAAA,WAAA,WACA,OACAM,SAAA,IACAE,KAAA,SAAA0B,EAAA1L,EAAA2L,EAAArK,GACAtB,EAAAmM,GAAA,QAAA,WACA,GAAA9L,GAAAqL,EAAAU,MAAAT,EAAAU,eACAhM,GAAAA,EAAAA,EAAA,mCAEA,IAAAiM,GAAAC,QAAAlM,EACAiM,IACAZ,EAAAU,MAAAT,EAAAY,gBCVArN,QAAAS,OAAA,OAAA6J,UAAA,WAAA,WAeA,QAAAC,KACA,GAAA3H,GAAA5C,QAAAiD,OAAAC,QAEAA,MAEAoK,EAAA,EASA,IANA1K,EAAAtB,MAAAsB,EAAAuG,QAAA7H,MACAsB,EAAAuG,QAAA7H,MAAA0E,OAAAsH,IACA1K,EAAAtB,MAAAsB,EAAAuG,QAAA7H,MAAAiM,UAAA,EAAAD,GAAA,OAIA,gBAAA1K,GAAAuG,QAAAqE,SAAA5K,EAAAuG,QAAAqE,QAAA,GAAA,CACA,GAAAC,GAAAC,SAAA9K,EAAAuG,QAAAqE,QAAA,GACA5K,GAAA+K,YAAA,IAAAF,EAAA,SA9BA,OACA7C,SAAA,IACA4B,OACArD,QAAA,KAEA/G,WAAAmI,EACAlI,aAAA,KACAwI,kBAAA,EACAC,KAAA,SAAApG,EAAA5D,EAAA2L,EAAA7J,KAGAT,YAAA,4BCZAnC,QAAAS,OAAA,OAAA6J,UAAA,SAAA,WAAA,SAAA,SAAAjH,EAAAuK,GACA,OACAhD,SAAA,IACAE,KAAA,SAAApG,EAAA5D,EAAA2L,EAAArK,GACAsC,EAAAsD,OAAA,WACA,MAAAtD,GAAAwI,MAAAT,EAAAoB,QACA,SAAAA,GACAA,KAAA,GACAxK,EAAA,WACAvC,EAAA,GAAA+M,QACAC,OAAAF,EAAAnB,EAAAoB,OAEAC,OAAAC,OAAArJ,GAAA,YCZA1E,QAAAS,OAAA,OAAA6J,UAAA,YAAA,WAAA,SAAA0D,GA4DA,QAAAzD,GAAA9H,EAAAiC,EAAAuJ,GAkCA,QAAAC,KACAtL,EAAAuL,OAAAC,OAOA,QAAAA,KACAxL,EAAAuL,OAAAC,MAAA,GAOA,QAAAC,KACAzL,EAAAuL,OAAAE,OAAA,GAGA,QAAAC,GAAA1H,GAEAqH,EAAAM,iBAAA3L,EAAA4L,UACA5H,IAIAhE,EAAA4L,SAAApI,MACAqI,KAAA7H,EAAA1E,IACAwM,MAAA9H,EAAA+H,UACArN,MAAAsF,EAAAtF,MACAsF,MAAAA,IAGAhE,EAAAgM,SACAhM,EAAAuL,OAAAU,KAAAjM,EAAA4L,WAGAI,SAAAhM,EAAAkM,WAAAC,OACAC,YAAA,uCACAC,QAAA,QACAT,SAAA5L,EAAA4L,SACAU,WAAA,QACAC,MAAA,cACA3D,MAAA,OACA4D,OAAA,OACAC,QACAC,OAAAA,EACAC,OAAAA,EACAC,WAAAA,GAEAC,WAAA,IAEA7M,EAAAuL,OAAAS,SAAAhM,EAAAkM,aASA,QAAAQ,GAAAI,GACA,GAAAC,KAAA,GAAAD,EAAAE,SAAA,EAGA,MAFAD,IAAA,MACAE,IAIA,IAAAC,GAAAJ,EAAAE,SAEAG,EAAA,GAAAC,MACAC,EAAAF,EAAAG,CACAD,GAAA,MACAC,EAAA,GAAAF,MACAvN,EAAA0N,YAAAvN,EAAAgE,MAAAe,QAAAmI,IAIA,QAAAN,KACAvD,QAAAmE,MAAA,0BAAAxN,EAAAgE,MAAAe,SACAlF,EAAA0N,YAAAvN,EAAAgE,MAAAe,QAAA,IAAA,GAOA,QAAAkI,KAGAQ,EAAA,IACAzN,EAAAuL,OAAAmC,KAAAD,GACApE,QAAAmE,MAAA,cAAAC,IAOA,QAAAd,KACAW,EAAA,GAAAF,MAtIA,GAAApN,GAAAM,IACAlD,SAAAiD,OAAAC,MAEAkL,KAAAA,EACAC,MAAAA,EACAG,YACAF,UAAAA,EACAJ,eAAAA,GAGA,IAAAmC,GAAA,EAEAH,EAAA,GAAAF,KAGAvN,GAAAqC,QAAAlC,EAAA+E,SAAApH,KAAA,SAAAqG,GAEAnE,EAAA8N,YAAA3N,EAAA+E,SAAApH,KAAA,SAAAiQ,GACA5N,EAAAgE,MAAAA,EACAyJ,EAAAG,MAIA9L,EAAAsD,OAAA,WAAApF,EAAA0L,WAGA5J,EAAAgE,IAAA,WAAA,WACAkG,SAAAhM,EAAAkM,WAAA2B,UA+DA,IAAAd,IAAA,EAtJA,OACA/E,SAAA,IACA8F,SAAA,EACArO,aAAA,KACAD,YAAA,QAAA,SAAA,OAAAmI,GACAM,kBAAA,EACA2B,OACA7E,QAAA,KAEAmD,KAAA,SAAA0B,EAAA1L,EAAA2L,EAAA7J,GACAA,EAAAkM,UAAAhO,EAAA6P,KAAA,MACA/N,EAAA4L,WAAAC,KAAA,8GACA7L,EAAAkM,YACAlM,EAAAkM,UAAAd,KAGAlN,EAAA6P,KAAA,KAAA/N,EAAAkM,YAwCA8B,SAAA,mCCzDA5Q,QAAAS,OAAA,OAAA6J,UAAA,aAAA,WAYA,QAAAC,MAXA,OACAK,SAAA,IACAvI,aAAA,KACAD,YAAAmI,GACAM,kBAAA,EACA2B,OACA5F,MAAA,KAEAzE,YAAA,8BCTAnC,QAAAS,OAAA,OAAAoQ,QAAA,SAAA,QAAA,KAAA,IAAA,SAAA5Q,EAAAE,EAAA0I,GAUA,QAAAhF,KACA,GAAAiN,GAAA3Q,EAAA4Q,OAQA,OAPA9Q,GAAAC,IAAA,kCACA8Q,QAAA,SAAAxQ,GACAsQ,EAAAzQ,QAAAG,KAEAwC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,QAOA,QAAA9C,KACA,GAAA0M,GAAA3Q,EAAA4Q,OAYA,OAXA9Q,GAAAC,IAAA,kBACA8Q,QAAA,SAAAxQ,GACAA,EAAAwQ,WAAA,EACAF,EAAAzQ,QAAAG,GAEAsQ,EAAAxQ,OAAAE,KAGAwC,MAAA,SAAAW,GACAmN,EAAAxQ,OAAAqD,KAEAmN,EAAA5J,QAtCA,OACArD,uBAAAA,EACAO,kBAAAA,MCHApE,QAAAS,OAAA,OAAAoQ,QAAA,OAAA,KAAA,QAAA,SAAA1Q,EAAAF,GAKA,QAAAwD,KACA,MAAAtD,GAAA,SAAAE,EAAAC,GACAL,EAAAC,IAAA,2BACA8Q,QAAA,SAAAxQ,GACAA,EAAAwQ,QACA3Q,IAEAC,MAGA0C,MAAA,WACA1C,QAfA,OACAmD,gBAAAA,MCFAzD,QAAAS,OAAA,OAAAwQ,QAAA,YAAA,aAAA,SAAAvP,GAIA,QAAAwP,GAAAC,GACA,IAAA,GAAAhL,KAAAiL,GAAA,CACA,GAAAC,GAAAD,EAAAjL,EACA,IAAAkL,EAAAF,aAAAA,EACA,MAAAhL,GAGA,MAAA,GAQA,QAAAmL,GAAAH,EAAAI,EAAAC,GACA,GACAH,GADAI,EAAAP,EAAAC,EAmBA,OAfAE,GADA,KAAAI,GAEAN,WAAAA,EACAI,SAAAA,EACAG,eAAAjN,QAIA2M,EAAAK,GAGAJ,EAAAK,eAAA,GAAA1B,MAAAA,KAAA2B,MAAAH,GAEA,KAAAC,GACAL,EAAAhL,KAAAiL,GAEAA,EAGA,QAAAtG,GAAAoG,EAAAI,EAAAC,GACAA,EAAA,gBAAAA,GAAAA,EAAA,GAEA,IAAAH,GAAAC,EAAAH,EAAAI,EAAAC,EAIA1J,YAAA,WACA,GAAAuJ,EAAAK,eAAA1B,KAAA2B,MAAA,CAEA,IACAjQ,EAAAkQ,OAAA,WACAP,EAAAE,aAEA,MAAAM,IAEA,IAEAT,EAAAU,OAAAV,EAAAW,QAAAV,GAAA,GACA,MAAAQ,OAMAL,GAjEA,GAAAJ,KAmEA,OAAArG,MCrEA/K,QAAAS,OAAA,OAAAoQ,QAAA,WAAA,WACA,OACAmB,UAAA,kBACA3J,YAAA,EACAxC,uBAAA,GAEA1B,+BAAA,EACAT,0BAAA,EACAW,0BAAA,MCRArE,QAAAS,OAAA,OAAAoQ,QAAA,IAAA,WACA,MAAA9I,QAAAc,IzBDA7I,QAAAS,OAAA,OAAAoQ,QAAA,SAAA,WACA,MAAA3P,U0BIAlB,QAAAS,OAAA,OAAAoQ,QAAA,gBAAA,KAAA,SAAA1Q,GACA,QAAAmG,GAAA2L,GACA,GAAAnB,GAAA3Q,EAAA4Q,QACAvM,EAAA,WAEAtB,KAAAgP,cAAA3N,SAAAC,QAAA,GAGAtB,KAAAiP,oBAAA,OAAA3N,GAAA,GACAtB,KAAAkP,cAAAC,YAAAnP,MAEA4N,EAAAzQ,WAGAiS,EAAAvR,SAAAwR,cAAA,SAUA,OATAD,GAAAE,MAAAC,QAAA,OAGAH,EAAAI,iBAAA,OAAAlO,GAAA,GAGA8N,EAAAI,iBAAA,QAAA5B,EAAAxQ,QAAA,GACAgS,EAAAK,IAAAV,EACAlR,SAAA6R,KAAAC,YAAAP,GACAxB,EAAA5J,QAGA,MAAAZ,MChCAtG,QAAAS,OAAA,OAAAoQ,QAAA,YAAA,WACA,GAAAiC,GAAA,CACA,OAAA,YAEA,MADAA,KACA,WAAAA,MCJA9S,QAAAS,OAAA,OAAAoQ,QAAA,QAAA,IAAA,SAAAhI,GAKA,QAAA0F,GAAAwE,GACA,GAAAlK,EAAAmK,QAAAD,GACA,KAAAA,EAAA/M,OAAA,GACA+M,EAAAE,UAGA,KAAA,GAAA9M,KAAA4M,SACAA,GAAA5M,GAXA,OACAoI,iBAAAA,MCFAvO,QAAAS,OAAA,OAAAoQ,QAAA,SAAA,QAAA,KAAA,IAAA,SAAA5Q,EAAAE,EAAA0I,GACA,QAAApG,MAiPA,MA7OAA,GAAAuE,OAAA,SAAAkB,GACA,GAAA4I,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,4BAAAgT,QAAA9K,EAAAF,KAAA8I,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAAW,OAAA,WACA,MAAAjD,GAAA,SAAAE,EAAAC,GACAL,EAAAC,IAAA,sBAAA8Q,QAAA,SAAArQ,GACAN,EAAAM,QAKA8B,EAAAqC,QAAA,SAAAF,GACA,GAAAkM,GAAA3Q,EAAA4Q,OAUA,OATAlI,GAAAsK,SAAAvO,GAGA3E,EAAAC,IAAA,4BAAA0E,GAAAoM,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,OAAAK,QALAmQ,EAAAxQ,SAQAwQ,EAAA5J,SAGAzE,EAAAoH,YAAA,SAAAuJ,GACA,GAAAtC,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,iCAAAkT,GAAApC,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAAqH,eAAA,SAAAsJ,GACA,GAAAtC,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,kCAAAkT,GAAApC,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAQAzE,EAAAuH,mBAAA,SAAArC,GACA,GAAAmJ,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,mCAAAgT,QAAAvL,QAAAA,KACAqJ,QAAA,SAAAxQ,GACAsQ,EAAAzQ,QAAAG,EAAA8I,WAEAtG,MAAA8N,EAAAxQ,QACAwQ,EAAA5J,SAQAzE,EAAAuG,2BAAA,SAAAJ,GACAA,EAAAC,EAAAmK,QAAApK,GAAAA,IACA,IAAAkI,GAAA3Q,EAAA4Q,OAQA,OAPA9Q,GAAAC,IAAA,2CACAgT,QACAtK,SAAAA,EAAAyK,KAAA,QAEArC,QAAA,SAAAxQ,GACAsQ,EAAAzQ,QAAAG,KACAwC,MAAA8N,EAAAxQ,QACAwQ,EAAA5J,SAQAzE,EAAA8N,YAAA,SAAA5I,GACA,GAAAmJ,GAAA3Q,EAAA4Q,OAQA,OAPA9Q,GAAAC,IAAA,4BAAAgT,QACAvL,QAAAA,KACAqJ,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,EAAA0P,gBACArN,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAA0N,YAAA,SAAAxI,EAAA6I,EAAA8C,GACAA,EAAAA,KAAA,GAAA,GAAA,CAEA,IAAAxC,GAAA3Q,EAAA4Q,OAcA,OAbA9Q,GAAAC,IAAA,4BAAAgT,QACAvL,QAAAA,EACA6I,QAAAA,EACA+C,SAAAD,KACAtC,QAAA,SAAArQ,GACAA,EAAAqQ,QACAF,EAAAzQ,UAEAyQ,EAAAxQ,WAEA0C,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAAuB,UAAA,WACA,GAAA8M,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,0BAAA8Q,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAAiF,cAAA,SAAAC,EAAAH,GACA,GAAAsJ,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,8BAAAgT,QAAAvL,QAAAA,EAAAH,cAAAA,KAAAwJ,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAA0E,gCAAA,SAAAL,EAAAxF,GACA,GAAAwP,GAAA3Q,EAAA4Q,OAWA,OAVA9Q,GAAAC,IAAA,oCACAgT,QACApM,UAAAA,EACAxF,MAAAA,KAEA0P,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAEAzE,EAAA2E,wCAAA,SAAAN,EAAAU,GACA,GAAAsJ,GAAA3Q,EAAA4Q,OAWA,OAVA9Q,GAAAC,IAAA,oCACAgT,QACApM,UAAAA,EACAU,cAAAA,KAEAwJ,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAAwF,YAAA,SAAAN,GACA,GAAAmJ,GAAA3Q,EAAA4Q,OAQA,OAPA9Q,GAAAC,IAAA,oCAAAyH,GACAqJ,QAAA,SAAApK,GACAkK,EAAAzQ,QAAAuG,KAEA5D,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAAiH,qBAAA,SAAA8J,GACA,GAAA1C,GAAA3Q,EAAA4Q,OAQA,OAPA9Q,GAAAC,IAAA,wCAAAsT,GACAxC,QAAA,SAAApK,GACAkK,EAAAzQ,QAAAuG,KAEA5D,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAOAzE,EAAAyB,qBAAA,WACA,GAAA4M,GAAA3Q,EAAA4Q,OAQA,OAPA9Q,GAAAC,IAAA,0CACA8Q,QAAA,SAAAxQ,GACAsQ,EAAAzQ,QAAAG,KAEAwC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAzE,EAAAE,gBAAA,SAAAG,EAAA2Q,GACA,MAAAxT,GAAAC,IAAA,2BAAAgT,QAAApQ,cAAAA,EAAAC,KAAA0Q,KAAAzC,QAAA,SAAAxQ,GACA,MAAAA,KACAwC,MAAA,SAAAA,GACA,MAAAA,MAMAP,EAAAgI,iBAAA,WACA,MAAAxK,GAAAC,IAAA,4BAAAK,KAAA,SAAAC,GACA,MAAAA,GAAAG,MACA,SAAAqC,GACA,MAAAA,MAIAP,EAAAkI,cAAA,SAAAD,GAEA,MADAA,GAAA,gBAAAA,IAAA,gBAAAA,GAAA1E,OAAA0E,KACAzK,EAAAC,IAAA,yBAAAgT,QAAAxI,MAAAA,EAAA2I,KAAA,QAAA9S,KAAA,SAAAC,GACA,MAAAA,GAAAG,MACA,SAAAqC,GACA,MAAAA,MAGAP,KClPAzC,QAAAS,OAAA,OAAAoQ,QAAA,eAAA,QAAA,KAAA,SAAA5Q,EAAAE,GACA,QAAAuC,MAwCA,MApCAA,GAAAU,OAAA,WACA,GAAA0N,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,2BAAA8Q,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAxE,EAAAoC,QAAA,SAAAF,GACA,GAAAkM,GAAA3Q,EAAA4Q,OAMA,OALA9Q,GAAAC,IAAA,iCAAA0E,GAAAoM,QAAA,SAAArQ,GACAmQ,EAAAzQ,QAAAM,KACAqC,MAAA,WACA8N,EAAAxQ,WAEAwQ,EAAA5J,SAGAxE,EAAA2C,KAAA,SAAAN,GACA,MAAA5E,GAAA,SAAAE,EAAAC,GACAL,EAAAyT,KAAA,0BAAA3O,GAAAxE,KAAA,SAAAC,GACAH,EAAAG,EAAAG,OACAL,MAIAoC,EAAAyH,WAAA,SAAAvF,GACA,MAAAzE,GAAA,SAAAE,EAAAC,GACAL,EAAAA,UAAA,6BAAAU,MAAAiE,GAAAA,KAAArE,KAAA,SAAAC,GACAH,EAAAG,EAAAG,OACAL,MAIAoC,KCzCA1C,QAAAS,OAAA,OAAA6J,UAAA,uBAAA,QAAA,KAAA,SAAArK,EAAAE,GACA,OACAwT,QAAA,UACA7I,KAAA,SAAA0B,EAAA1L,EAAA8S,EAAAC,GACAA,EAAAC,iBAAAC,WAAA,SAAAC,EAAAC,GACA,GAAAC,GAAAF,GAAAC,CACA,OAAAhU,GAAAC,IAAA,iCAAAgT,QAAAnQ,KAAAmR,KAAA3T,KACA,SAAA4T,GACA,OAAAA,EAAAxT,KAAAyT,SAAA,EACAjU,EAAAG,OAAA6T,EAAAxT,KAAA0T,eAEA,UCXArU,QAAAS,OAAA,OAAA6J,UAAA,sBAAA,QAAA,KAAA,SAAArK,EAAAE,GACA,OACAwT,QAAA,UACA7I,KAAA,SAAA0B,EAAA1L,EAAA8S,EAAAC,GACAA,EAAAC,iBAAAQ,UAAA,SAAAN,EAAAC,GACA,GAAAC,GAAAF,GAAAC,CACA,OAAAhU,GAAAC,IAAA,wBAAAgT,QAAAhR,IAAAgS,KAAA3T,KAAA,SAAA4T,GACA,OAAAA,EAAAxT,KAAAyT,SAAA,EACAjU,EAAAG,OAAA6T,EAAAxT,KAAA0T,eAEA,GACA,SAAA1Q","file":"app.min.js","sourcesContent":["angular.module('app', ['ui.router', 'ui.bootstrap', 'infinite-scroll'])\n        .run(['$rootScope', 'enums', 'globals', function($rootScope, enums, globals) {\n                $rootScope.enums = enums;\n                $rootScope.globals = globals;\n            }]);\n\nfetchConstants().then(bootstrapApplication);\n\n\n/**\n * Load constants asynchronously BEFORE bootstrapping the application\n * @returns {unresolved}\n */\nfunction fetchConstants() {\n    var injector = angular.injector([\"ng\"])\n    var $http = injector.get(\"$http\");\n    var $q = injector.get('$q');\n\n    var promises = [\n        $q(function(resolve, reject) {\n            $http.get('api/GetEnumerations.php').then(function(result) {\n                angular.module('app').constant(\"enums\", result.data);\n                resolve();\n            }, reject);\n        })\n    ];\n\n    return $q.all(promises);\n}\n\nfunction bootstrapApplication() {\n    angular.element(document).ready(function() {\n        angular.bootstrap(document, [\"app\"]);\n    });\n}","angular.module('app').service('notify', function() {\n    return notify;\n});\n\n function notify(message, type) {\n        type = type ? type : 'warning';\n        //if danger was provided, convert to error\n        type = type === 'danger' ? 'error' : type;\n        \n        return new PNotify({\n            title: '',\n            text: message,\n            styling: 'bootstrap3',\n            type: type\n        });\n    }","angular.module('app')\n        .config(['$stateProvider', '$urlRouterProvider',\n            function($stateProvider, $urlRouterProvider) {\n                $urlRouterProvider.otherwise('/home');\n\n                $stateProvider\n                   .state('addNewMediaItem', {\n                            url: '/addNewMediaItem',\n                            templateUrl: 'addNewMediaItem.html',\n                            controller: 'AddNewMediaItemController',\n                            controllerAs: 'vm'\n                        }) \n                        .state('home', {\n                            url: '/home',\n                            templateUrl: 'home.html',\n                            controller: 'HomeController',\n                            controllerAs: 'vm'\n                        })\n                        .state('admin', {\n                            url: '/admin',\n                            templateUrl: 'admin.html',\n                            controller: 'AdminController',\n                            controllerAs: 'vm'\n                        })\n                        .state('videoInfo', {\n                            url: '/videoInfo/{videoId:int}',\n                            templateUrl: 'videoInfo.html',\n                            controller: 'VideoInfoController',\n                            controllerAs: 'vm'\n                        })\n                        .state('videoSources', {\n                            url: '/videoSources',\n                            templateUrl: 'videoSources.html',\n                            controller: 'VideoSourcesController',\n                            controllerAs: 'vm'\n                        })\n                        .state('editVideoSource', {\n                            url: '/editVideoSource/{id:int}',\n                            parent: 'videoSources',\n                            templateUrl: 'editVideoSource.html',\n                            controller: 'EditVideoSourceController',\n                            controllerAs: 'vm'\n                        })\n                        .state('play', {\n                            url: '/play/{videoId:int}?{showVideoId:int}',\n                            templateUrl: 'play.html',\n                            controller: 'PlayController',\n                            controllerAs: 'vm'\n                        })\n                        .state('search', {\n                            url: '/search?q',\n                            templateUrl: 'search.html',\n                            controller: 'SearchController',\n                            controllerAs: 'vm'\n                        })\n                        .state('metadataFetcher', {\n                            url: '/metadataFetcher/{videoId:int}',\n                            templateUrl: 'metadataFetcher.html',\n                            controller: 'MetadataFetcherController',\n                            controllerAs: 'vm'\n                        }) \n            }])\n\n        .run(['$rootScope', '$state', '$stateParams', function($rootScope, $state, $stateParams) {\n                $rootScope.$state = $state;\n                $rootScope.$stateParams = $stateParams;\n            }])","angular.module('app').controller('AddNewMediaItemController', ['Video', 'globals', 'VideoSource', 'notify', function (Video, globals, VideoSource, notify) {\n        globals.title = 'Add new media item';\n\n        var vm = angular.extend(this, {\n            //properties\n            videoSources: [],\n            newMediaItem: {},\n            //api\n            addNewMediaItem: addNewMediaItem\n        });\n\n        VideoSource.getAll().then(function (videoSources) {\n            vm.videoSources = videoSources;\n        });\n\n        function addNewMediaItem() {\n            Video.addNewMediaItem(vm.newMediaItem.videoSourceId, vm.newMediaItem.path).then(function (result) {\n                notify('New media items were successfully added', 'success');\n            }, function (error) {\n                notify(error.message, 'danger');\n            });\n        }\n    }]);","angular.module('app').controller('AdminController', ['$timeout', '$window', 'globals', 'api', 'notify', 'Video', 'admin',\n    function($timeout, $window, globals, api, notify, Video, admin) {\n        globals.title = 'Admin';\n\n        var vm = angular.extend(this, {\n            //properties\n            serverVersionNumber: undefined,\n            //api\n            fetchMissingMetadata: fetchMissingMetadata,\n            generateLibrary: generateLibrary,\n            updateApplication: updateApplication\n        });\n\n\n        getVideoCounts();\n        getServerVersionNumber();\n\n        function generateLibrary() {\n            var n = notify('Generating library', 'info');\n            globals.generateLibraryIsPending = true;\n            api.generateLibrary().then(function() {\n                notify('Library has been generated', 'success');\n            }).catch(function(err) {\n                notify('There was an error generating the library: \"' + err.message + '\"', 'danger');\n            }).finally(function() {\n                globals.generateLibraryIsPending = false;\n                getVideoCounts();\n            });\n        }\n\n        function getServerVersionNumber() {\n            admin.getServerVersionNumber().then(function(version) {\n                vm.serverVersionNumber = version;\n            });\n        }\n        function getVideoCounts() {\n            Video.getCounts().then(function(videoCounts) {\n                vm.videoCounts = videoCounts;\n            });\n        }\n\n        function fetchMissingMetadata() {\n            globals.fetchMissingMetadataIsPending = true;\n            notify('Fetching missing metadata', 'info');\n            Video.fetchMissingMetadata().then(function() {\n                notify('Finished fetching missing metata for videos', 'success');\n            }, function() {\n                notify('There was an error fetching missing metadata', 'error');\n            }).finally(function() {\n                globals.fetchMissingMetadataIsPending = false;\n            });\n        }\n\n        function updateApplication() {\n            globals.checkForUpdatesIsPending = true;\n            notify('Checking for updates. Please wait until this operation has completed', 'info');\n            admin.updateApplication().then(function(result) {\n                if (result.updateWasApplied) {\n                    notify('Application has been updated. Reloading page.', 'success');\n                    $timeout(function() {\n                        $window.location.reload();\n                    }, 4000);\n                } else {\n                    notify('No updates were found', 'success');\n                }\n            }, function() {\n                notify('Unable to check and install updates', 'error');\n            }).finally(function() {\n                globals.checkForUpdatesIsPending = false;\n            });\n        }\n    }]);","angular.module('app').controller('BaseController', ['globals',function(globals) {\n        var vm = angular.extend(this, {\n            globals: globals\n        });\n        \n    }]);","angular.module('app').controller('EditVideoSourceController', [\n    '$scope', 'globals', 'VideoSource', '$state', '$stateParams', 'enums',\n    function($scope, globals, VideoSource, $state, $stateParams, enums) {\n        var vm = angular.extend(this, {\n            isLoading: false,\n            isSaving: false,\n            //properties\n            originalVideoSource: undefined,\n            videoSource: {\n                securityType: enums.securityType.public,\n            },\n            //api\n            reset: reset,\n            save: save,\n            sayHi: function() {\n                alert('hi');\n            }\n        });\n\n        globals.title = 'Edit Video Source';\n        vm.originalVideoSource = angular.copy(vm.videoSource);\n        loadVideoSource();\n\n        function loadVideoSource() {\n            //if an id was provided, go look up the settings for that videoSource\n            if ($stateParams.id && $stateParams.id > 0) {\n                vm.isLoading = true;\n                VideoSource.getById($stateParams.id).then(function(videoSource) {\n                    vm.videoSource = videoSource;\n                    vm.originalVideoSource = angular.copy(videoSource);\n                }).finally(function() {\n                    vm.isLoading = false;\n                });\n            }\n        }\n\n        function reset() {\n            vm.videoSource = vm.originalVideoSource;\n            vm.form.setPristine(true);\n        }\n\n        function save() {\n            vm.isSaving = true;\n            VideoSource.save(vm.videoSource).then(function(videoSource) {\n                vm.isSaving = false;\n                loadVideoSource();\n                notify('Saved video source', 'success');\n                $state.go('videoSources', {}, {reload: true});\n            }, function() {\n                //handle the error\n                vm.isSaving = false;\n            });\n        }\n    }]);","angular.module('app').controller('FetchByTitleController', ['$stateParams',\n    function($stateParams) {\n        var vm = angular.extend(this, {\n            //properties\n            title: undefined\n                    //api\n\n        });\n\n        vm.title = $stateParams.title;\n\n    }]);","angular.module('app').controller('HomeController', ['globals', 'Video', function(globals, Video) {\n        var vm = angular.extend(this, {\n            allVideos: [],\n            currentlyLoadedVideos: [],\n            //api\n            loadMore: loadMore\n        });\n        globals.title = 'Home';\n\n        Video.getAll().then(function(videos) {\n            vm.allVideos = videos;\n        });\n\n        function loadMore() {\n            var numberToLoad = globals.infiniteScrollPageSize;\n            var beginIndex = vm.currentlyLoadedVideos.length;\n            var endIndex = beginIndex + numberToLoad;\n            //if the end index is larger than the list of all videos, change the end index to the length of the list of all videos\n            endIndex = endIndex > vm.allVideos.length ? vm.allVideos.length : endIndex;\n\n            for (var i = beginIndex; i < endIndex; i++) {\n                vm.currentlyLoadedVideos.push(vm.allVideos[i]);\n            }\n        }\n\n    }]);","angular.module('app').controller('MetadataFetcherController', ['$scope', '$q', 'globals', 'refreshImage', 'Video', '$state', '$stateParams', 'notify', 'enums',\n    function($scope, $q, globals, refreshImage, Video, $state, $stateParams, notify, enums) {\n        globals.title = 'Fetch Metadata';\n        var vm = angular.extend(this, {\n            searchByOptions: {\n                onlineVideoId: 'onlineVideoId',\n                title: 'title'\n            },\n            videoId: $stateParams.videoId,\n            searchBy: 'onlineVideoId',\n            isSearching: false,\n            metadataIsBeingFetched: false,\n            textboxLabel: undefined,\n            //this is the value (title, onlineVideoId) to use to search for the metadata\n            searchValue: undefined,\n            searchResults: undefined,\n            video: {},\n            //api\n            search: search,\n            calculateTextboxLabel: calculateTextboxLabel,\n            fetchMetadataByOnlineVideoId: fetchMetadataByOnlineVideoId\n        });\n\n        $scope.$watch('vm.searchBy', searchByChanged);\n\n        $scope.$watch('vm.video', vm.calculateTextboxLabel);\n\n        function searchByChanged() {\n            vm.calculateTextboxLabel();\n            if (vm.searchBy === vm.searchByOptions.title) {\n                vm.searchValue = vm.video.title;\n            } else {\n                vm.searchValue = '';\n            }\n        }\n\n        function calculateTextboxLabel() {\n            vm.textboxLabel = undefined;\n\n            if (!vm.video) {\n                return;\n            }\n            if (vm.searchBy === vm.searchByOptions.title) {\n                vm.textboxLabel = 'Title';\n            } else {\n                vm.textboxLabel = vm.video.mediaType === enums.mediaTypeMovie ? 'TMDB ID' : 'TVDB ID';\n            }\n        }\n\n        //load the video\n        Video.getById(vm.videoId).then(function(video) {\n            angular.extend(vm.video, video);\n            searchByChanged()\n        });\n\n        Video.getPathInfo(vm.videoId).then(function(video) {\n            angular.extend(vm.video, video);\n        });\n\n        function search() {\n            vm.isSearching = true;\n            var promise;\n            if (vm.searchBy === vm.searchByOptions.title) {\n                promise = Video.getMetadataSearchResultsByTitle(vm.video.mediaType, vm.searchValue);\n            } else {\n                promise = Video.getMetadataSearchResultsByOnlineVideoId(vm.video.mediaType, vm.searchValue);\n            }\n            promise.then(function(searchResults) {\n                vm.metadataResults = searchResults;\n                vm.isSearching = false;\n            });\n        }\n\n        function fetchMetadataByOnlineVideoId(onlineVideoId) {\n            vm.metadataIsBeingFetched = true;\n            Video.fetchMetadata(vm.video.videoId, onlineVideoId).then(function() {\n                return Video.getById(vm.video.videoId);\n            }).then(function(video) {\n                //refresh the posters so that when we go back to videoInfo, the poster cache has been cleared\n                return refreshImage(video.sdPosterUrl).then(function() {\n                    return refreshImage(video.hdPosterUrl);\n                }).then(function(){\n                    //there was an issue getting the browser to refresh the cached images. try reloading the page (after we have \n                    //navigated to the videoInfo page)\n                    setTimeout(function(){\n                        window.location.reload();\n                    }, 200);\n                    return undefined;\n                });\n            }).then(function() {\n                vm.metadataResults = undefined;\n                vm.metadataIsBeingFetched = false;\n\n                notify('Updated video with selected metadata', 'success');\n                $state.go('videoInfo', {videoId: vm.videoId});\n            })['catch'](function(err) {\n                vm.metadataIsBeingFetched = false;\n                notify('There was an error fetching metadata for the video you selected: ' + err, 'error');\n            })\n        }\n\n\n    }]);","angular.module('app').controller('NavbarController', ['$state', function($state) {\n        var vm = angular.extend(this, {\n            searchTerm: undefined,\n            navbarIsOpen: false,\n            //api\n            search: search,\n            hideNavbar: hideNavbar,\n            toggleNavbar: toggleNavbar\n        });\n\n        function search() {\n            if (vm.searchTerm && vm.searchTerm.trim().length > 0) {\n                $state.go('search', {q: vm.searchTerm});\n                vm.searchTerm = undefined;\n                hideNavbar();\n            }\n        }\n\n        function showNavbar() {\n            vm.navbarIsOpen = true;\n        }\n\n        function hideNavbar() {\n            vm.navbarIsOpen = false;\n        }\n\n        function toggleNavbar() {\n            vm.navbarIsOpen ? hideNavbar() : showNavbar();\n        }\n\n    }]);","angular.module('app').controller('PlayController', ['$scope', 'globals', '$stateParams', 'notify',\n    function($scope, globals, $stateParams, notify) {\n        globals.title = 'Play';\n        globals.hideNavbar = true;\n        \n        var vm = angular.extend(this, {\n            videoId: $stateParams.videoId,\n            showVideoId: $stateParams.showVideoId\n        });\n\n        $scope.$on(\"$destroy\", function() {\n           globals.hideNavbar = false;\n        });\n    }]);","angular.module('app').controller('SearchController', ['globals', 'Video', '$stateParams', function(globals, Video, $stateParams) {\n        var vm = angular.extend(this, {\n            allVideos: [],\n            currentlyLoadedVideos: [],\n            searchTerm: $stateParams.q,\n            //api\n            loadMore: loadMore\n        });\n\n        globals.title = 'Home';\n        var searchTerm = $stateParams.q;\n\n        Video.search(searchTerm).then(function(videos) {\n            vm.allVideos = videos;\n        });\n\n\n        function loadMore() {\n            var numberToLoad = globals.infiniteScrollPageSize;\n            var beginIndex = vm.currentlyLoadedVideos.length;\n            var endIndex = beginIndex + numberToLoad;\n            //if the end index is larger than the list of all videos, change the end index to the length of the list of all videos\n            endIndex = endIndex > vm.allVideos.length ? vm.allVideos.length : endIndex;\n\n            for (var i = beginIndex; i < endIndex; i++) {\n                var video = vm.allVideos[i];\n                vm.currentlyLoadedVideos.push(video);\n            }\n        }\n\n    }]);","angular.module('app').controller('VideoInfoController', ['$scope', 'globals', 'Video', '$state', '$stateParams', 'enums',\n    function($scope, globals, Video,$state,  $stateParams, enums) {\n        var vm = angular.extend(this, {\n            progressPercent: 0,\n            preventCache: $stateParams.preventCache,\n            episodes: undefined,\n            videoId: $stateParams.videoId,\n            //api\n            getProgressPercentType: getProgressPercentType,\n            navigateToShow: navigateToShow\n        });\n        globals.title = 'VideoInfo';\n\n        $scope.$watch('vm.episodes', fetchAllEpisodePercentWatched);\n\n        //load the video by id\n        Video.getById(vm.videoId).then(function(video) {\n            vm.video = video;\n\n            if (vm.video.mediaType === enums.mediaType.show) {\n                //get all of the episodes for this show\n                Video.getEpisodes(vm.video.videoId).then(function(episodes) {\n                    vm.episodes = episodes;\n                    //find the next episode that should be watched\n                }).then(function() {\n                    return Video.getNextEpisode(vm.video.videoId);\n                    //select the episode in our local list of episodes that matches the next episode\n                }).then(function(nextEpisode) {\n                    vm.nextEpisode = _.where(vm.episodes, {videoId: nextEpisode.videoId})[0];\n                    //figure out how much of this episode has been watched\n                }).then(function() {\n                    return Video.getProgressPercent(vm.nextEpisode.videoId);\n                    //save the percentWatched to the episode\n                }).then(function(percent) {\n                    vm.nextEpisode.percentWatched = percent;\n                });\n            }\n\n            //load the progress of this video\n            Video.getProgressPercent(vm.video.videoId).then(function(percent) {\n                vm.progressPercent = percent;\n            });\n\n        })\n\n        /**\n         * Grabs the percent watched for every episode\n         * @returns {undefined}\n         */\n        function fetchAllEpisodePercentWatched() {\n            var videoIds = _.pluck(vm.episodes, 'videoId');\n            Video.getProgressPercentMultiple(videoIds).then(function(percentObjects) {\n                for (var i in percentObjects) {\n                    var percentObj = percentObjects[i];\n                    var episode = _.where(vm.episodes, {videoId: percentObj.videoId})[0];\n                    if (episode) {\n                        episode.percentWatched = percentObj.percent;\n                    }\n                }\n            });\n        }\n\n        function getProgressPercentType() {\n            if (vm.progressPercent < 40) {\n                return'danger';\n            } else if (vm.progressPercent < 99) {\n                return 'warning';\n            } else if (vm.progressPercent < 101) {\n                return 'success';\n            }\n        }\n\n        function navigateToShow() {\n            Video.getShowFromEpisodeId(vm.videoId).then(function(show) {\n                $state.go('videoInfo', {videoId: show.videoId});\n            });\n        }\n    }]);","angular.module('app').controller('VideoSourcesController', ['globals', 'VideoSource', 'notify',\n    function(globals, VideoSource, notify) {\n        var vm = this;\n        vm.editIsVisible = false;\n        vm.deleteVideoSource = deleteVideoSource;\n        vm.refresh = loadVideoSources;\n\n        globals.title = 'Video Sources';\n        loadVideoSources();\n        \n        function loadVideoSources() {\n            VideoSource.getAll().then(function(videoSources) {\n                vm.videoSources = videoSources;\n            });\n        }\n\n        function deleteVideoSource(id) {\n            VideoSource.deleteById(id).then(loadVideoSources);\n        }\n    }]);","angular.module('app').directive('categoryScrollerCollection', [function () {\n        return {\n            restrict: 'E',\n            controller: ['Video', Controller],\n            controllerAs: 'vm',\n            bindToController: true,\n            templateUrl: 'categoryScrollerCollectionDirective.html',\n            link: function () {\n\n            }\n        };\n\n        function Controller(Video) {\n            var vm = angular.extend(this, {\n                categories: []\n            });\n            //get all of the category names\n            Video.getCategoryNames().then(function (names) {\n                return Video.getCategories(names);\n            }).then(function (categories) {\n                vm.categories = categories;\n            });\n        }\n    }\n]);","angular.module('app').directive('categoryScroller', ['$window', '$timeout', 'debounce', function ($window, $timeout, debounce) {\n        var id = 0;\n        return {\n            restrict: 'E',\n            controller: ['$scope', Controller],\n            controllerAs: 'vm',\n            bindToController: true,\n            templateUrl: 'categoryScrollerDirective.html',\n            scope: {\n                category: '='\n            },\n            link: function ($scope, element, attributes, vm) {\n                var myId = id++;\n                //anytime the window changes size, determine the new width of this element\n                angular.element($window).bind('resize', function () {\n                    calculateElementWidth();\n                });\n                function calculateElementWidth() {\n                    console.log('debouncing ' + myId);\n                    debounce(vm, function () {\n                        console.log('calling ' + myId);\n                        var rect = element[0].getBoundingClientRect();\n                        vm.width = rect.width;\n                    }, 300);\n                }\n\n                //anytime the width changes, calculate the size of the first video tile in the list\n                $scope.$watch(function () {\n                    return vm.width;\n                }, function (width) {\n                    //get the first video tile\n                    var videoTile = element[0].querySelector('video-tile');\n                    var rect = videoTile.getBoundingClientRect();\n                    vm.videoTileWidth = rect.width;\n                });\n\n                calculateElementWidth();\n\n            }\n        };\n\n        function Controller($scope) {\n            var vm = angular.extend(this, {\n                category: this.category,\n                width: 0,\n                videoTileWidth: 0,\n                visibleVideoTileCount: 0,\n                visibleVideos: [],\n                leftmostVideoIndex: 0,\n                //api\n                calculateVisibleVideoTileCount: calculateVisibleVideoTileCount,\n                getLocationText: getLocationText,\n                populateVisibleVideos: populateVisibleVideos,\n                pageLeft: pageLeft,\n                pageRight: pageRight,\n                showPageLeft: showPageLeft,\n                showPageRight: showPageRight\n            });\n\n            $scope.$watch(function () {\n                return vm.videoTileWidth;\n            }, function () {\n                vm.calculateVisibleVideoTileCount();\n            });\n            $scope.$watch(function () {\n                return vm.width;\n            }, function () {\n                vm.calculateVisibleVideoTileCount();\n            });\n\n            $scope.$watch(function () {\n                return vm.visibleVideoTileCount;\n            }, function (newVisibleVideoTileCount, oldVisibleVideoTileCount) {\n                populateVisibleVideos();\n            });\n\n            function populateVisibleVideos() {\n                if (vm.visibleVideoTileCount < 1) {\n                    vm.visibleVideos = [];\n                    return;\n                }\n                //find the index of the leftmost video\n                var endIndex = vm.leftmostVideoIndex + vm.visibleVideoTileCount;\n                vm.visibleVideos = [];\n                for (var i = vm.leftmostVideoIndex; i < endIndex; i++) {\n                    var index = i % vm.category.videos.length;\n                    var video = vm.category.videos[index];\n                    vm.visibleVideos.push(video);\n                }\n            }\n\n            function calculateVisibleVideoTileCount() {\n                //60px for the left and right navigation buttons\n                var num = (vm.width - 60) / vm.videoTileWidth;\n                if (!isFinite(num)) {\n                    num = 0;\n                } else {\n                    num = Math.floor(num);\n                }\n                vm.visibleVideoTileCount = num;\n            }\n\n            function pageLeft() {\n                var newLeftmostIndex = vm.leftmostVideoIndex - vm.visibleVideoTileCount;\n                if (newLeftmostIndex < 0) {\n                    newLeftmostIndex = 0;\n                }\n                vm.leftmostVideoIndex = newLeftmostIndex;\n                vm.populateVisibleVideos();\n            }\n\n            function pageRight() {\n                var newLeftmostIndex = vm.leftmostVideoIndex + vm.visibleVideoTileCount;\n                var maxLeftmostIndex = (vm.category.videos.length + 1) - vm.visibleVideoTileCount;\n                if (newLeftmostIndex > maxLeftmostIndex) {\n                    newLeftmostIndex = maxLeftmostIndex;\n                }\n                vm.leftmostVideoIndex = newLeftmostIndex;\n                console.log('leftmost idx' + vm.leftmostVideoIndex);\n                vm.populateVisibleVideos();\n            }\n\n            function showPageLeft() {\n                return vm.leftmostVideoIndex > 0\n            }\n\n            function showPageRight() {\n                var maxLeftmostIndex = (vm.category.videos.length - 1) - vm.visibleVideoTileCount;\n                return vm.leftmostVideoIndex < maxLeftmostIndex;\n            }\n\n            function getLocationText() {\n                return (vm.leftmostVideoIndex + 1) + '-' + (vm.leftmostVideoIndex + vm.visibleVideos.length) + ' of ' + vm.category.videos.length;\n            }\n        }\n    }\n]);","angular.module('app').directive('confirm', [function() {\n        return {\n            restrict: 'A',\n            link: function(scope, element, attributes, controller) {\n                element.on('click', function() {\n                    var message = scope.$eval(attributes.confirmMessage);\n                    message = message? message: 'Are you sure you want to do that?';\n                    //show the confirm modal\n                    var confirmed = confirm(message);\n                    if (confirmed) {\n                        scope.$eval(attributes.confirm);\n                    }\n                });\n            }\n        }\n\n    }]);","angular.module('app').directive('episode', [function () {\n        return {\n            restrict: 'E',\n            scope: {\n                episode: '='\n            },\n            controller: Controller,\n            controllerAs: 'vm',\n            bindToController: true,\n            link: function($scope, element, attributes, vm){\n                \n            },\n            templateUrl: 'episodeDirective.html'\n        };\n        \n        function Controller(){\n            var vm = angular.extend(this, {\n                //episode\n            }, this);\n            \n            var maxTitleLength = 16;\n            //truncate the title \n            \n            vm.title = vm.episode.title;\n            if(vm.episode.title.length > maxTitleLength){\n                vm.title = vm.episode.title.substring(0, maxTitleLength) + '...';\n            }\n\n            //calculate the runtime text\n            if(typeof vm.episode.runtime === 'number' && vm.episode.runtime > -1){\n                var runtimeMinutes = parseInt(vm.episode.runtime / 60);\n                vm.runtimeText = '(' + runtimeMinutes + ' min)';\n            }   \n        }\n    }\n]);","angular.module('app').directive('focus', ['$timeout', '$parse', function($timeout, $parse) {\n        return {\n            restrict: 'A',\n            link: function($scope, element, attributes, controller) {\n                $scope.$watch(function() {\n                    return $scope.$eval(attributes.focus);\n                }, function(focus) {\n                    if (focus === true) {\n                        $timeout(function() {\n                            element[0].focus();\n                            getter = $parse(attributes.focus);\n                            //override the value with a false now that we have performed the focus\n                            getter.assign($scope, false);\n                        });\n                    }\n                });\n            }\n        }\n\n    }]);","angular.module('app').directive('jwplayer', ['uniqueId', function(uniqueId) {\n        return {\n            restrict: 'E',\n            replace: true,\n            controllerAs: 'vm',\n            controller: ['Video', '$scope', 'util', Controller],\n            bindToController: true,\n            scope: {\n                videoId: '='\n            },\n            link: function(scope, element, attributes, vm) {\n                vm.elementId = element.attr('id');\n                vm.playlist = [{file: 'http://localhost:8080/videos/movies/A%20Good%20Day%20to%20Die%20Hard/A%20Good%20Day%20to%20Die%20Hard.mp4'}];\n                if (!vm.elementId) {\n                    vm.elementId = uniqueId();\n                }\n\n                element.attr('id', vm.elementId);\n\n                //TODO - implement the keyboard shortcuts\n                function keyboardShortcuts(e) {\n                    switch (e.which) {\n                        case 32://spacebar key\n                            //toggle playback\n                            jwplayer().play();\n                            break;\n                        case 70: //f key\n                            //toggle fullscreen\n                            if (player.getFullscreen() === true) {\n                                player.setFullscreen(false);\n                            } else {\n                                player.setFullscreen(true);\n                            }\n                            break;\n                        case 39: //right arrow key\n                            //seek forward n seconds\n                            var position = player.getPosition();\n                            var newPosition = position + seekBurstSeconds;\n                            if (position <= seekPosition) {\n                                newPosition = seekPosition + seekBurstSeconds;\n                            }\n                            seekPosition = newPosition;\n                            player.seek(seekPosition);\n                            break;\n                        case 37: //left arrow key\n                            //seek backwards n seconds\n                            var position = player.getPosition();\n                            var newPosition = position - seekBurstSeconds;\n                            if (position >= seekPosition) {\n                                newPosition = seekPosition - seekBurstSeconds;\n                            }\n                            seekPosition = newPosition;\n                            player.seek(seekPosition);\n                            break;\n                    }\n                }\n            },\n            template: '<div class=\"jwplayer\"></div>'\n        }\n\n        function Controller(Video, $scope, util) {\n            var vm = this;\n            angular.extend(this,\n                    {\n                        play: play,\n                        pause: pause,\n                        playlist: [],\n                        loadVideo: loadVideo,\n                        togglePlayback: togglePlayback\n                    }\n            );\n            var startSeconds = 0;\n            //keeps track of the number of seconds that have passed since the video has saved its position in the database\n            var playPositionUpdateTime = new Date();\n\n            //load the video\n            Video.getById(vm.videoId).then(function(video) {\n                //get the current progress of this video.\n                Video.getProgress(vm.videoId).then(function(seconds) {\n                    vm.video = video;\n                    startSeconds = seconds;\n                });\n            });\n\n            $scope.$watch('vm.video', vm.loadVideo);\n\n            //when the directive is removed, remove the jwplayer from the page\n            $scope.$on('$destroy', function() {\n                jwplayer(vm.elementId).remove();\n            });\n\n            /**\n             * Toggles the play/pause state. if playing, the player pauses. if paused, the player plays.\n             */\n            function togglePlayback() {\n                vm.player.play();\n            }\n\n            /**\n             * Tells the player to play. If already playing, playback continues. \n             * if paused, the player starts playing.\n             */\n            function play() {\n                vm.player.play(true);\n            }\n\n            /**\n             * Pauses the player. If the player is playing, playback is paused. \n             * if the player is paused, the player stays paused.\n             */\n            function pause() {\n                vm.player.pause(false);\n            }\n\n            function loadVideo(video) {\n                //empty the playlist \n                util.blankItemInPlace(vm.playlist);\n                if (!video) {\n                    return;\n                }\n                //add the video to the playlist\n                vm.playlist.push({\n                    file: video.url,\n                    image: video.posterUrl,\n                    title: video.title,\n                    video: video\n                });\n\n                if (vm.jwplayer) {\n                    vm.player.load(vm.playlist);\n                } else {\n                    //the jwplayer has not yet been created, create it now\n                    jwplayer(vm.elementId).setup({\n                        flashplayer: 'lib/jwplayer-6.11/jwplayer.flash.swf',\n                        primary: 'html5',\n                        playlist: vm.playlist,\n                        startparam: 'start',\n                        wmode: 'transparent',\n                        width: '100%',\n                        height: '100%',\n                        events: {\n                            onTime: onTime,\n                            onPlay: onPlay,\n                            onComplete: onComplete\n                        },\n                        autostart: true\n                    });\n                    vm.player = jwplayer(vm.elementId);\n                }\n            }\n\n            var startVideoWhereWeLeftOffProcessed = false;\n            /**\n             * Event that is called every time the video changes time position. This may be called up to \n             * 10 times a second\n             */\n            function onTime(obj) {\n                if (startVideoWhereWeLeftOffProcessed === false && obj.position > 0) {\n                    startVideoWhereWeLeftOffProcessed = true;\n                    startVideoWhereWeLeftOff();\n                    return;\n                }\n\n                var positionInSeconds = obj.position;\n                //every so often, update the database with the current video's play position\n                var nowTime = new Date();\n                var timeSinceLastUpdate = nowTime - playPositionUpdateTime;\n                if (timeSinceLastUpdate > 5000) {\n                    playPositionUpdateTime = new Date();\n                    Video.setProgress(vm.video.videoId, positionInSeconds);\n                }\n            }\n            \n            function onComplete(){\n                console.debug('Finished playing video ' + vm.video.videoId);\n                Video.setProgress(vm.video.videoId, -1, true);\n            }\n\n            /**\n             * Seeks to the playback position indicated by the database. This should only be called ONCE, \n             * and only after the video has started playing\n             */\n            function startVideoWhereWeLeftOff() {\n                //seek the player to the startPosition\n                //if a startSeconds value greater than 0 was provided, seek to that position in the video\n                if (startSeconds > 0) {\n                    vm.player.seek(startSeconds);\n                    console.debug('seeking to ', startSeconds);\n                }\n            }\n\n            /**\n             * Event that is fired every time the video starts playing\n             */\n            function onPlay() {\n                playPositionUpdateTime = new Date();\n            }\n\n        }\n    }]);","angular.module('app').directive('videoTile', [function() {\n        return {\n            restrict: 'E',\n            controllerAs: 'vm',\n            controller: [Controller],\n            bindToController: true,\n            scope: {\n                video: '='\n            },\n            templateUrl: 'videoTileDirective.html'\n        }\n\n        function Controller() {\n            \n        }\n    }]);","angular.module('app').service('admin', ['$http', '$q', '_', function($http, $q, _) {\n        return {\n            getServerVersionNumber: getServerVersionNumber,\n            updateApplication: updateApplication\n        };\n\n        /**\n         * Finds a poster and metadata for every video in the library that does not have one yet.\n         * @returns {$q@call;defer.promise}\n         */\n        function getServerVersionNumber() {\n            var deferred = $q.defer();\n            $http.get('api/GetServerVersionNumber.php')\n                    .success(function(result) {\n                        deferred.resolve(result);\n                    })\n                    .error(function() {\n                        deferred.reject();\n                    });\n            return deferred.promise;\n        }\n\n        /**\n         * Checks for updates to this application and updates if there are any.\n         * @returns {undefined}\n         */\n        function updateApplication() {\n            var deferred = $q.defer();\n            $http.get('api/Update.php')\n                    .success(function(result) {\n                        if (result.success === true) {\n                            deferred.resolve(result);\n                        } else {\n                            deferred.reject(result);\n                        }\n                    })\n                    .error(function(err) {\n                        deferred.reject(err);\n                    });\n            return deferred.promise;\n        }\n    }]);","angular.module('app').service('api', ['$q', '$http', function($q, $http) {\n        return {\n            generateLibrary: generateLibrary\n        };\n\n        function generateLibrary() {\n            return $q(function(resolve, reject) {\n                $http.get('api/GenerateLibrary.php')\n                        .success(function(result) {\n                            if (result.success) {\n                                resolve();\n                            } else {\n                                reject();\n                            }\n                        })\n                        .error(function() {\n                            reject();\n                        })\n\n            });\n        }\n    }]);","angular.module('app').factory('debounce', ['$rootScope', function ($rootScope) {\n\n        var registry = [];\n\n        function registryIndexOf(identifier) {\n            for (var i in registry) {\n                var registryItem = registry[i];\n                if (registryItem.identifier === identifier) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n\n        function getFromRegistry(identifier) {\n            var idx = registryIndexOf(identifier);\n            return registry[idx];\n        }\n\n        function setRegistryItem(identifier, callback, expirationMilliseconds) {\n            var registryItemIndex = registryIndexOf(identifier);\n            var registryItem;\n            //if there is no item in the registry with this identifier, make a new item\n            if (registryItemIndex === -1) {\n                registryItem = {\n                    identifier: identifier,\n                    callback: callback,\n                    expirationDate: undefined\n                };\n            } else {\n                //get the item from the registry\n                registryItem = registry[registryItemIndex];\n            }\n\n            registryItem.expirationDate = new Date(Date.now() + expirationMilliseconds);\n\n            if (registryItemIndex === -1) {\n                registry.push(registryItem);\n            }\n            return registryItem;\n        }\n\n        function debounce(identifier, callback, expirationMilliseconds) {\n            expirationMilliseconds = typeof expirationMilliseconds === 'number' ? expirationMilliseconds : 300;\n\n            var registryItem = setRegistryItem(identifier, callback, expirationMilliseconds);\n\n\n            //set a timeout and then see if the debounce has expired yet\n            setTimeout(function () {\n                if (registryItem.expirationDate < Date.now()) {\n                    //the debounce has expired. call the callback\n                    try {\n                        $rootScope.$apply(function () {\n                            registryItem.callback();\n                        });\n                    } catch (e) {\n                    }\n                    try {\n                        //remove this item from the registry\n                        registry.splice(registry.indexOf(registryItem), 1);\n                    } catch (e) {\n\n                    }\n                } else {\n                    //do nothing. something else has bumped the expiration date, so let that one's timeout handle it\n                }\n            }, expirationMilliseconds);\n        }\n        return debounce;\n    }\n]);","angular.module('app').service('globals', [function() {\n        return {\n            pageTitle: 'PlumMediaCenter',\n            hideNavbar: false,\n            infiniteScrollPageSize: 25,\n            //whenever the admin page launches a metadata fetch, keep track of its status here. \n            fetchMissingMetadataIsPending: false,\n            generateLibraryIsPending: false,\n            checkForUpdatesIsPending: false\n        };\n    }]);","angular.module('app').service('_', function(){\n    return window._;\n});","/**\n * Takes an image url and refreshes that image so that the browser cache can be refreshed\n * @param {type} param1\n * @param {type} param2\n */\nangular.module('app').service('refreshImage', ['$q', function($q) {\n        function refreshImage(uri) {\n            var deferred = $q.defer();\n            var reload = function() {\n                // Force a reload of the iframe\n                this.contentWindow.location.reload(true);\n\n                // Remove `load` event listener and remove iframe\n                this.removeEventListener('load', reload, false);\n                this.parentElement.removeChild(this);\n\n               deferred.resolve();\n            };\n\n            var iframe = document.createElement('iframe');\n            iframe.style.display = 'none';\n\n            // Reload iframe once it has loaded\n            iframe.addEventListener('load', reload, false);\n\n            // Only call callback if error occured while loading\n            iframe.addEventListener('error', deferred.reject, false);\n            iframe.src = uri;\n            document.body.appendChild(iframe);\n            return deferred.promise;\n        }\n\n        return refreshImage;\n    }]);","angular.module('app').service('uniqueId', [function() {\n        var counter = 0;\n        return function() {\n            counter++;\n            return 'element-' + counter;\n        }\n    }]);","angular.module('app').service('util', ['_', function(_) {\n        return {\n            blankItemInPlace: blankItemInPlace\n        };\n\n        function blankItemInPlace(item) {\n            if (_.isArray(item)) {\n                while (item.length > 0) {\n                    item.pop();\n                }\n            } else {\n                for (var i in item) {\n                    delete item[i];\n                }\n            }\n        }\n    }]);","angular.module('app').service('Video', ['$http', '$q', '_', function ($http, $q, _) {\n        function Video() {\n\n        }\n\n        Video.search = function (searchTerm) {\n            var deferred = $q.defer();\n            $http.get('api/GetSearchResults.php', {params: {q: searchTerm}}).success(function (data) {\n                deferred.resolve(data);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n\n        Video.getAll = function () {\n            return $q(function (resolve, reject) {\n                $http.get('api/GetLibrary.php').success(function (data) {\n                    resolve(data);\n                });\n            });\n        };\n\n        Video.getById = function (id) {\n            var deferred = $q.defer();\n            if (!_.isNumber(id)) {\n                deferred.reject();\n            } else {\n                $http.get('api/GetVideo.php?videoId=' + id).success(function (data) {\n                    deferred.resolve(data);\n                }).error(function () {\n                    deferred.reject(data);\n                });\n            }\n            return deferred.promise;\n        };\n\n        Video.getEpisodes = function (showId) {\n            var deferred = $q.defer();\n            $http.get('api/GetTvEpisodes.php?videoId=' + showId).success(function (data) {\n                deferred.resolve(data);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n\n        Video.getNextEpisode = function (showId) {\n            var deferred = $q.defer();\n            $http.get('api/GetNextEpisode.php?videoId=' + showId).success(function (data) {\n                deferred.resolve(data);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n\n        /**\n         * Get how much percentage watched this video is\n         * @param {type} videoId\n         * @returns {$q@call;defer.promise}\n         */\n        Video.getProgressPercent = function (videoId) {\n            var deferred = $q.defer();\n            $http.get('api/GetVideoProgressPercent.php', {params: {videoId: videoId}})\n                    .success(function (result) {\n                        deferred.resolve(result.percent);\n                    })\n                    .error(deferred.reject);\n            return deferred.promise;\n        };\n\n        /**\n         * Get how much percentage watched each video is\n         * @param {type} videoId\n         * @returns {$q@call;defer.promise}\n         */\n        Video.getProgressPercentMultiple = function (videoIds) {\n            videoIds = _.isArray(videoIds) ? videoIds : [];\n            var deferred = $q.defer();\n            $http.get('api/GetVideoProgressPercentMultiple.php', {\n                params: {\n                    videoIds: videoIds.join(',')\n                }\n            }).success(function (result) {\n                deferred.resolve(result);\n            }).error(deferred.reject);\n            return deferred.promise;\n        };\n\n        /**\n         * Get the number of seconds into a video the current user is. \n         * @param {type} videoId\n         * @returns {$q@call;defer.promise}\n         */\n        Video.getProgress = function (videoId) {\n            var deferred = $q.defer();\n            $http.get('api/GetVideoProgress.php', {params: {\n                    videoId: videoId\n                }}).success(function (data) {\n                deferred.resolve(data.startSeconds);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        }\n\n        Video.setProgress = function (videoId, seconds, isFinished) {\n            isFinished = isFinished === true ? true : false;\n\n            var deferred = $q.defer();\n            $http.get('api/SetVideoProgress.php', {params: {\n                    videoId: videoId,\n                    seconds: seconds,\n                    finished: isFinished\n                }}).success(function (data) {\n                if (data.success) {\n                    deferred.resolve();\n                } else {\n                    deferred.reject();\n                }\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        }\n\n        Video.getCounts = function () {\n            var deferred = $q.defer();\n            $http.get('api/GetVideoCounts.php').success(function (data) {\n                deferred.resolve(data);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n\n        Video.fetchMetadata = function (videoId, onlineVideoId) {\n            var deferred = $q.defer();\n            $http.get('api/FetchVideoMetadata.php', {params: {videoId: videoId, onlineVideoId: onlineVideoId}}).success(function (data) {\n                deferred.resolve(data);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n\n        Video.getMetadataSearchResultsByTitle = function (mediaType, title) {\n            var deferred = $q.defer();\n            $http.get('api/GetMetadataSearchResults.php', {\n                params: {\n                    mediaType: mediaType,\n                    title: title\n                }\n            }).success(function (data) {\n                deferred.resolve(data);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        }\n        Video.getMetadataSearchResultsByOnlineVideoId = function (mediaType, onlineVideoId) {\n            var deferred = $q.defer();\n            $http.get('api/GetMetadataSearchResults.php', {\n                params: {\n                    mediaType: mediaType,\n                    onlineVideoId: onlineVideoId\n                }\n            }).success(function (data) {\n                deferred.resolve(data);\n            }).error(function () {\n                deferred.reject();\n            });\n            return deferred.promise;\n        }\n\n        Video.getPathInfo = function (videoId) {\n            var deferred = $q.defer();\n            $http.get('api/GetVideoPathInfo.php?videoId=' + videoId)\n                    .success(function (video) {\n                        deferred.resolve(video);\n                    })\n                    .error(function () {\n                        deferred.reject();\n                    });\n            return deferred.promise;\n        }\n\n        Video.getShowFromEpisodeId = function (episodeId) {\n            var deferred = $q.defer();\n            $http.get('api/GetTvShowByEpisodeId.php?videoId=' + episodeId)\n                    .success(function (video) {\n                        deferred.resolve(video);\n                    })\n                    .error(function () {\n                        deferred.reject();\n                    });\n            return deferred.promise;\n        }\n\n        /**\n         * Finds a poster and metadata for every video in the library that does not have one yet.\n         * @returns {$q@call;defer.promise}\n         */\n        Video.fetchMissingMetadata = function () {\n            var deferred = $q.defer();\n            $http.get('api/FetchMissingMetadataAndPosters.php')\n                    .success(function (result) {\n                        deferred.resolve(result);\n                    })\n                    .error(function () {\n                        deferred.reject();\n                    });\n            return deferred.promise;\n        }\n\n        Video.addNewMediaItem = function (videoSourceId, newMediaItemPath) {\n            return $http.get('api/AddNewMediaItem.php', {params: {videoSourceId: videoSourceId, path: newMediaItemPath}}).success(function (result) {\n                return result;\n            }).error(function (error) {\n                return error;\n            });\n\n        };\n\n\n        Video.getCategoryNames = function () {\n            return $http.get('api/GetCategoryNames.php').then(function (result) {\n                return result.data;\n            }, function (error) {\n                return error;\n            });\n        };\n\n        Video.getCategories = function (names) {\n            names = typeof names !== 'string' && typeof names.length === 'number'?names: [];\n            return $http.get('api/GetCategories.php', {params: {names: names.join(',')}}).then(function (result) {\n                return result.data;\n            }, function (error) {\n                return error;\n            });\n        };\n        return Video;\n    }]);","angular.module('app').service('VideoSource', ['$http', '$q', function($http, $q) {\n        function VideoSource() {\n\n        }\n\n        VideoSource.getAll = function() {\n            var deferred = $q.defer();\n            $http.get('api/GetVideoSources.php').success(function(data) {\n                deferred.resolve(data);\n            }).error(function() {\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n\n        VideoSource.getById = function(id) {\n            var deferred = $q.defer();\n            $http.get('api/GetVideoSourceById.php?id=' + id).success(function(data) {\n                deferred.resolve(data);\n            }).error(function() {\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n\n        VideoSource.save = function(videoSource) {\n            return $q(function(resolve, reject) {\n                $http.post('api/PostVideoSource.php', videoSource).then(function(result) {\n                    resolve(result.data);\n                }, reject);\n            });\n        };\n\n        VideoSource.deleteById = function(id) {\n            return $q(function(resolve, reject) {\n                $http.delete('api/DeleteVideoSource.php', {data: {id: id}}).then(function(result) {\n                    resolve(result.data);\n                }, reject);\n            });\n        };\n\n        return VideoSource;\n    }]);","angular.module('app').directive('pathExistsValidator', ['$http', '$q', function($http, $q) {\n    return { \n        require: 'ngModel',\n        link: function(scope, element, attrs, ngModel) {\n            ngModel.$asyncValidators.pathExists = function(modelValue, viewValue) {\n                var value = modelValue || viewValue;\n                return $http.get('api/GetPathExistsOnServer.php', {params: {path: value}}).then(\n                        function(response) {\n                            if (!response.data.exists === true) {\n                                return $q.reject(response.data.errorMessage);\n                            }\n                            return true;\n                        }\n                );\n            };\n        }\n    };\n}]);","angular.module('app').directive('urlExistsValidator', ['$http', '$q', function ($http, $q) {\n        return {\n            require: 'ngModel',\n            link: function (scope, element, attrs, ngModel) {\n                ngModel.$asyncValidators.urlExists = function (modelValue, viewValue) {\n                    var value = modelValue || viewValue;\n                    return $http.get('api/GetUrlExists.php', {params: {url: value}}).then(function (response) {\n                        if (!response.data.exists === true) {\n                            return $q.reject(response.data.errorMessage);\n                        }\n                        return true;\n                    }, function(err){\n                    });\n                };\n            }\n        };\n    }]);"],"sourceRoot":"/source/"}